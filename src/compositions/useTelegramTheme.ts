import type { WebApp } from '@types/telegram-web-app'
import { type GlobalThemeOverrides } from 'naive-ui'

const stub: WebApp = {
  "initData": "query_id=AAEXbVAJAAAAABdtUAmjqB3G&user=%7B%22id%22%3A156265751%2C%22first_name%22%3A%22Vadim%22%2C%22last_name%22%3A%22Kenedi%22%2C%22username%22%3A%22lionkenedi%22%2C%22language_code%22%3A%22ru%22%2C%22allows_write_to_pm%22%3Atrue%7D&auth_date=1730271924&hash=6d2a1e1f8dce6d9050ef1ee1d07afc6d0c4db95adef44af8bd1653de3ba6b8ca",
  "initDataUnsafe": {
      "query_id": "AAEXbVAJAAAAABdtUAmjqB3G",
      "user": {
          "id": 156265751,
          "first_name": "Vadim",
          "last_name": "Kenedi",
          "username": "lionkenedi",
          "language_code": "ru",
          "allows_write_to_pm": true
      },
      "auth_date": "1730271924",
      "hash": "6d2a1e1f8dce6d9050ef1ee1d07afc6d0c4db95adef44af8bd1653de3ba6b8ca"
  },
  "version": "7.10",
  "platform": "tdesktop",
  "colorScheme": "dark",
  "themeParams": {
      "accent_text_color": "#6ab2f2",
      "bg_color": "#17212b",
      "bottom_bar_bg_color": "#17212b",
      "button_color": "#5288c1",
      "button_text_color": "#ffffff",
      "destructive_text_color": "#ec3942",
      "header_bg_color": "#17212b",
      "hint_color": "#708499",
      "link_color": "#6ab3f3",
      "secondary_bg_color": "#232e3c",
      "section_bg_color": "#17212b",
      "section_header_text_color": "#6ab3f3",
      "section_separator_color": "#111921",
      "subtitle_text_color": "#708499",
      "text_color": "#f5f5f5"
  },
  "isExpanded": true,
  "viewportHeight": 590,
  "viewportStableHeight": 590,
  "isClosingConfirmationEnabled": false,
  "isVerticalSwipesEnabled": true,
  "headerColor": "#17212b",
  "backgroundColor": "#17212b",
  "bottomBarColor": "#17212b",
  "BackButton": {
      "isVisible": false
  },
  "MainButton": {
      "type": "main",
      "text": "Continue",
      "color": "#5288c1",
      "textColor": "#ffffff",
      "isVisible": false,
      "isProgressVisible": false,
      "isActive": true,
      "hasShineEffect": false
  },
  "SecondaryButton": {
      "type": "secondary",
      "text": "Cancel",
      "color": "#17212b",
      "textColor": "#5288c1",
      "isVisible": false,
      "isProgressVisible": false,
      "isActive": true,
      "hasShineEffect": false,
      "position": "left"
  },
  "SettingsButton": {
      "isVisible": false
  },
  "HapticFeedback": {},
  "CloudStorage": {},
  "BiometricManager": {
      "isInited": false,
      "isBiometricAvailable": false,
      "biometricType": "unknown",
      "isAccessRequested": false,
      "isAccessGranted": false,
      "isBiometricTokenSaved": false,
      "deviceId": ""
  }
}

export const useTelegramTheme = (telegramWebApp: WebApp): GlobalThemeOverrides => {
  console.log('telegramWebApp', telegramWebApp)
  const themeParams = {
    ...stub.themeParams,
    ...telegramWebApp.themeParams,
  }
  const MainButton = {
    ...stub.MainButton,
    ...telegramWebApp.MainButton,
  }
  const SecondaryButton = {
    ...stub.SecondaryButton,
    ...telegramWebApp.SecondaryButton,
  }

  return {
    common: {
      name: "telegramWebApp",
      fontFamily: "v-sans, system-ui, -apple-system, BlinkMacSystemFont, \"Segoe UI\", sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\"",
      fontFamilyMono: "v-mono, SFMono-Regular, Menlo, Consolas, Courier, monospace",
      fontWeight: "400",
      fontWeightStrong: "500",
      cubicBezierEaseInOut: "cubic-bezier(.4, 0, .2, 1)",
      cubicBezierEaseOut: "cubic-bezier(0, 0, .2, 1)",
      cubicBezierEaseIn: "cubic-bezier(.4, 0, 1, 1)",
      borderRadius: "3px",
      borderRadiusSmall: "2px",
      fontSize: "14px",
      fontSizeMini: "12px",
      fontSizeTiny: "12px",
      fontSizeSmall: "14px",
      fontSizeMedium: "14px",
      fontSizeLarge: "15px",
      fontSizeHuge: "16px",
      lineHeight: "1.6",
      heightMini: "16px",
      heightTiny: "22px",
      heightSmall: "28px",
      heightMedium: "34px",
      heightLarge: "40px",
      heightHuge: "46px",
      baseColor: themeParams.button_text_color || "#17212b",
      primaryColor: themeParams.button_color,
      primaryColorHover: themeParams.button_color,  
      primaryColorPressed: themeParams.button_color,
      primaryColorSuppl: themeParams.button_color,
      infoColor: SecondaryButton.color,
      infoColorHover: SecondaryButton.color,
      infoColorPressed: SecondaryButton.color,
      infoColorSuppl: SecondaryButton.color,
      successColor: "#63e2b7",
      successColorHover: "#7fe7c4",
      successColorPressed: "#5acea7",
      successColorSuppl: "rgb(42, 148, 125)",
      warningColor: "#f2c97d",
      warningColorHover: "#f5d599",
      warningColorPressed: "#e6c260",
      warningColorSuppl: "rgb(240, 138, 0)",
      errorColor: "#e88080",
      errorColorHover: "#e98b8b",
      errorColorPressed: "#e57272",
      errorColorSuppl: "rgb(208, 58, 82)",
      textColorBase: MainButton.textColor,
      textColor1: themeParams.text_color,
      textColor2: themeParams.text_color,
      textColor3: themeParams.text_color,
      textColorDisabled: themeParams.hint_color,
      placeholderColor: themeParams.hint_color,
      placeholderColorDisabled: themeParams.hint_color,
      iconColor: "rgba(255, 255, 255, 0.38)",
      iconColorDisabled: "rgba(255, 255, 255, 0.28)",
      iconColorHover: "rgba(255, 255, 255, 0.475)",
      iconColorPressed: "rgba(255, 255, 255, 0.30400000000000005)",
      opacity1: "0.9",
      opacity2: "0.82",
      opacity3: "0.52",
      opacity4: "0.38",
      opacity5: "0.28",
      dividerColor: "rgba(255, 255, 255, 0.09)",
      borderColor: "rgba(255, 255, 255, 0.24)",
      closeIconColorHover: "rgba(255, 255, 255, 0.52)",
      closeIconColor: "rgba(255, 255, 255, 0.52)",
      closeIconColorPressed: "rgba(255, 255, 255, 0.52)",
      closeColorHover: "rgba(255, 255, 255, .12)",
      closeColorPressed: "rgba(255, 255, 255, .08)",
      clearColor: "rgba(255, 255, 255, 0.38)",
      clearColorHover: "rgba(255, 255, 255, 0.48)",
      clearColorPressed: "rgba(255, 255, 255, 0.3)",
      scrollbarColor: "rgba(255, 255, 255, 0.2)",
      scrollbarColorHover: "rgba(255, 255, 255, 0.3)",
      scrollbarWidth: "5px",
      scrollbarHeight: "5px",
      scrollbarBorderRadius: "5px",
      progressRailColor: "rgba(255, 255, 255, 0.12)",
      railColor: "rgba(255, 255, 255, 0.2)",
      popoverColor: "rgb(72, 72, 78)",
      tableColor: "rgb(24, 24, 28)",
      cardColor: themeParams.secondary_bg_color,
      modalColor: themeParams.secondary_bg_color,
      bodyColor: themeParams.bg_color || '#17212b',
      tagColor: "rgba(51, 51, 51, 1)",
      avatarColor: "rgba(255, 255, 255, 0.18)",
      invertedColor: "#000",
      inputColor: "rgba(255, 255, 255, 0.1)",
      codeColor: "rgba(255, 255, 255, 0.12)",
      tabColor: "rgba(255, 255, 255, 0.04)",
      actionColor: "rgba(255, 255, 255, 0.06)",
      tableHeaderColor: "rgba(255, 255, 255, 0.06)",
      hoverColor: "rgba(255, 255, 255, 0.09)",
      tableColorHover: "rgba(255, 255, 255, 0.06)",
      tableColorStriped: "rgba(255, 255, 255, 0.05)",
      pressedColor: "rgba(255, 255, 255, 0.05)",
      opacityDisabled: "0.38",
      inputColorDisabled: "rgba(255, 255, 255, 0.06)",
      buttonColor2: MainButton.textColor,
      buttonColor2Hover: MainButton.textColor,
      buttonColor2Pressed: MainButton.textColor,
      boxShadow1: "0 1px 2px -2px rgba(0, 0, 0, .24), 0 3px 6px 0 rgba(0, 0, 0, .18), 0 5px 12px 4px rgba(0, 0, 0, .12)",
      boxShadow2: "0 3px 6px -4px rgba(0, 0, 0, .24), 0 6px 12px 0 rgba(0, 0, 0, .16), 0 9px 18px 8px rgba(0, 0, 0, .10)",
      boxShadow3: "0 6px 16px -9px rgba(0, 0, 0, .08), 0 9px 28px 0 rgba(0, 0, 0, .05), 0 12px 48px 16px rgba(0, 0, 0, .03)"
    },
    Button: {
      
    }
  }
}